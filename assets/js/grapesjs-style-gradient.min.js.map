{"version":3,"sources":["webpack://grapesjs-style-gradient/webpack/universalModuleDefinition","webpack://grapesjs-style-gradient/webpack/bootstrap","webpack://grapesjs-style-gradient/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://grapesjs-style-gradient/./node_modules/@babel/runtime/helpers/typeof.js","webpack://grapesjs-style-gradient/./node_modules/grapick/dist/grapick.min.js","webpack://grapesjs-style-gradient/./src/styles.js","webpack://grapesjs-style-gradient/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","_typeof","iterator","constructor","self","e","default","on","split","length","addEventListener","off","removeEventListener","isFunction","isDef","getPointerEvent","touches","TypeError","a","ReferenceError","u","f","v","position","g","arguments","this","__proto__","getPrototypeOf","assign","pfx","el","colorEl","min","max","direction","type","height","width","emptyColor","onValuePos","parseInt","document","querySelector","HTMLElement","handlers","options","change","render","setPrototypeOf","clear","forEach","parentNode","removeChild","colorPicker","getColorValue","getType","getDirection","indexOf","previewEl","getValue","sandEl","createElement","style","concat","Array","isArray","from","getPrefixedValues","backgroundImage","lastIndexOf","substring","shift","setDirection","setType","parseFloat","pop","join","addHandler","updatePreview","sort","map","silent","emit","complete","remove","getHandlers","isSelected","w","clientWidth","h","clientHeight","offsetX","clientLeft","offsetY","clientTop","getContext","createLinearGradient","addColorStop","color","fillStyle","fillRect","background","getImageData","data","innerHTML","wrapperEl","initEvents","push","fn","ctx","apply","_","slice","gp","selected","select","getEl","left","getColor","getPosition","keepSelect","deselect","getSelectedCls","className","replace","trim","cpFn","splice","target","setColor","backgroundColor","stopPropagation","y","k","x","clientX","clientY","setPosition","button","which","b","top","appendChild","inputDirection","inputType","cpKey","getAlpha","toHexString","toRgbString","editor","config","sm","StyleManager","selectEdgeStops","lastOpts","defDir","updateLastOpts","opts","fromTarget","avoidStore","setTimeout","addType","view","events","templateInput","setValue","defValue","model","getDefaultValue","dir","valueDir","filter","destroy","onRender","ppfx","em","conf","onCustomInputChange","Grapick","grapickOpts","fields","flexWrap","children","setValueFromInput","defaults","input","inputName","inputConfig","parent","inputObj","propInput","createType","propTarget","val","getFullValue","handler","elStyle","emConf","getConfig","colorPickerConfig","elToAppend","updateColor","cl","cpOpts","move","baseCp","initBaseColorPicker","$","spectrum","containerClassName","appendTo","maxSelectionSize","showPalette","palette","showAlpha","chooseText","cancelText","$el","setColorPicker","loadStyles"],"mappings":"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","file":"grapesjs-style-gradient.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-style-gradient\"] = factory();\n\telse\n\t\troot[\"grapesjs-style-gradient\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*! grapick - 0.1.13 */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.Grapick=t():e.Grapick=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([function(e,t,n){\"use strict\";function i(e,t,n){t=t.split(/\\s+/);for(var i=0;i<t.length;++i)e.addEventListener(t[i],n)}function r(e,t,n){t=t.split(/\\s+/);for(var i=0;i<t.length;++i)e.removeEventListener(t[i],n)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.on=i,t.off=r;t.isFunction=function(e){return\"function\"==typeof e},t.isDef=function(e){return void 0!==e},t.getPointerEvent=function(e){return e.touches&&e.touches[0]||e}},function(e,t,n){\"use strict\";var i=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=function(e){return new r.default(e)}},function(e,t,n){\"use strict\";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(3),c=i(s),h=n(4),f=i(h),d=n(0),v=function(e,t){return e.position-t.position},p=function(e){return e+\"-gradient(\"},g=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e=Object.assign({},e);var i={pfx:\"grp\",el:\".grp\",colorEl:\"\",min:0,max:100,direction:\"90deg\",type:\"linear\",height:\"30px\",width:\"100%\",emptyColor:\"#000\",onValuePos:function(e){return parseInt(e)}};for(var r in i)r in e||(e[r]=i[r]);var l=e.el;if(!((l=\"string\"==typeof l?document.querySelector(l):l)instanceof HTMLElement))throw\"Element not found, given \"+l;return n.el=l,n.handlers=[],n.options=e,n.on(\"handler:color:change\",function(e,t){return n.change(t)}),n.on(\"handler:position:change\",function(e,t){return n.change(t)}),n.on(\"handler:remove\",function(e){return n.change(1)}),n.on(\"handler:add\",function(e){return n.change(1)}),n.render(),n}return l(t,e),u(t,[{key:\"destroy\",value:function(){var e=this;this.clear(),this.e={},[\"el\",\"handlers\",\"options\",\"colorPicker\"].forEach(function(t){return e[t]=0}),[\"previewEl\",\"wrapperEl\",\"sandEl\"].forEach(function(t){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n),delete e[t]})}},{key:\"setColorPicker\",value:function(e){this.colorPicker=e}},{key:\"getValue\",value:function(e,t){var n=this.getColorValue(),i=e||this.getType(),r=[\"top\",\"left\",\"bottom\",\"right\",\"center\"],o=t||this.getDirection();return[\"linear\",\"repeating-linear\"].indexOf(i)>=0&&r.indexOf(o)>=0&&(o=\"center\"===o?\"to right\":\"to \"+o),[\"radial\",\"repeating-radial\"].indexOf(i)>=0&&r.indexOf(o)>=0&&(o=\"circle at \"+o),n?i+\"-gradient(\"+o+\", \"+n+\")\":\"\"}},{key:\"getSafeValue\",value:function(e,t){var n=this.previewEl,i=this.getValue(e,t);if(!this.sandEl&&(this.sandEl=document.createElement(\"div\")),!n||!i)return\"\";for(var o=this.sandEl.style,a=[i].concat(r(this.getPrefixedValues(e,t))),l=void 0,u=0;u<a.length&&(l=a[u],o.backgroundImage=l,o.backgroundImage!=l);u++);return o.backgroundImage}},{key:\"setValue\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.type,r=this.direction,o=t.indexOf(\"(\")+1,a=t.lastIndexOf(\")\"),l=t.substring(o,a),u=l.split(/,(?![^(]*\\)) /);if(this.clear(n),!l)return void this.updatePreview();u.length>2&&(r=u.shift());var s=void 0;[\"repeating-linear\",\"repeating-radial\",\"linear\",\"radial\"].forEach(function(e){t.indexOf(p(e))>-1&&!s&&(s=1,i=e)}),this.setDirection(r,n),this.setType(i,n),u.forEach(function(t){var i=t.split(\" \"),r=parseFloat(i.pop()),o=i.join(\"\");e.addHandler(r,o,0,n)}),this.updatePreview()}},{key:\"getColorValue\",value:function(){var e=this.handlers;return e.sort(v),e=1==e.length?[e[0],e[0]]:e,e.map(function(e){return e.getValue()}).join(\", \")}},{key:\"getPrefixedValues\",value:function(e,t){var n=this.getValue(e,t);return[\"-moz-\",\"-webkit-\",\"-o-\",\"-ms-\"].map(function(e){return\"\"+e+n})}},{key:\"change\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.updatePreview(),!t.silent&&this.emit(\"change\",e)}},{key:\"setDirection\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options.direction=e;var n=t.complete,i=void 0===n?1:n;this.change(i,t)}},{key:\"getDirection\",value:function(){return this.options.direction}},{key:\"setType\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options.type=e;var n=t.complete,i=void 0===n?1:n;this.change(i,t)}},{key:\"getType\",value:function(){return this.options.type}},{key:\"addHandler\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=new f.default(this,e,t,n,i);return!i.silent&&this.emit(\"handler:add\",r),r}},{key:\"getHandler\",value:function(e){return this.handlers[e]}},{key:\"getHandlers\",value:function(){return this.handlers}},{key:\"clear\",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.handlers,n=t.length-1;n>=0;n--)t[n].remove(e)}},{key:\"getSelected\",value:function(){for(var e=this.getHandlers(),t=0;t<e.length;t++){var n=e[t];if(n.isSelected())return n}return null}},{key:\"updatePreview\",value:function(){var e=this.previewEl;e&&(e.style.backgroundImage=this.getValue(\"linear\",\"to right\"))}},{key:\"initEvents\",value:function(){var e=this,t=this.previewEl;t&&(0,d.on)(t,\"click\",function(n){var i=e.options,r=i.min,o=i.max,a={w:t.clientWidth,h:t.clientHeight},l=n.offsetX-t.clientLeft,u=n.offsetY-t.clientTop,s=l/a.w*100;if(!(s>o||s<r||u>a.h||u<0)){var c=document.createElement(\"canvas\"),h=c.getContext(\"2d\");c.width=a.w,c.height=a.h;var f=h.createLinearGradient(0,0,a.w,a.h);e.getHandlers().forEach(function(e){return f.addColorStop(e.position/100,e.color)}),h.fillStyle=f,h.fillRect(0,0,c.width,c.height),c.style.background=\"black\";var d=c.getContext(\"2d\").getImageData(l,u,1,1).data,v=\"rgba(\"+d[0]+\", \"+d[1]+\", \"+d[2]+\", \"+d[3]+\")\",p=\"rgba(0, 0, 0, 0)\"==v?i.emptyColor:v;e.addHandler(s,p)}})}},{key:\"render\",value:function(){var e=this.options,t=this.el,n=e.pfx,i=e.height,r=e.width;if(t){var o=n+\"-wrapper\",a=n+\"-preview\";t.innerHTML='\\n      <div class=\"'+o+'\">\\n        <div class=\"'+a+'\"></div>\\n      </div>\\n    ';var l=t.querySelector(\".\"+o),u=t.querySelector(\".\"+a),s=l.style;s.position=\"relative\",this.wrapperEl=l,this.previewEl=u,i&&(s.height=i),r&&(s.width=r),this.initEvents(),this.updatePreview()}}}]),t}(c.default);t.default=g},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,[{key:\"on\",value:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this}},{key:\"once\",value:function(e,t,n){function i(){r.off(e,i),t.apply(n,arguments)}var r=this;return i._=t,this.on(e,i,n)}},{key:\"emit\",value:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,t);return this}},{key:\"off\",value:function(e,t){var n=this.e||(this.e={}),i=n[e],r=[];if(i&&t)for(var o=0,a=i.length;o<a;o++)i[o].fn!==t&&i[o].fn._!==t&&r.push(i[o]);return r.length?n[e]=r:delete n[e],this}}]),e}();t.default=o},function(e,t,n){\"use strict\";function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"black\",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i(this,e),t.getHandlers().push(this),this.gp=t,this.position=n,this.color=r,this.selected=0,this.render(),o&&this.select(a)}return r(e,[{key:\"toJSON\",value:function(){return{position:this.position,selected:this.selected,color:this.color}}},{key:\"setColor\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.color=e,this.emit(\"handler:color:change\",this,t)}},{key:\"setPosition\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getEl();this.position=e,n&&(n.style.left=e+\"%\"),this.emit(\"handler:position:change\",this,t)}},{key:\"getColor\",value:function(){return this.color}},{key:\"getPosition\",value:function(){var e=this.position,t=this.gp,n=t.options.onValuePos;return(0,o.isFunction)(n)?n(e):e}},{key:\"isSelected\",value:function(){return!!this.selected}},{key:\"getValue\",value:function(){return this.getColor()+\" \"+this.getPosition()+\"%\"}},{key:\"select\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getEl(),n=this.gp.getHandlers();!e.keepSelect&&n.forEach(function(e){return e.deselect()}),this.selected=1;var i=this.getSelectedCls();t&&(t.className+=\" \"+i),this.emit(\"handler:select\",this)}},{key:\"deselect\",value:function(){var e=this.getEl();this.selected=0;var t=this.getSelectedCls();e&&(e.className=e.className.replace(t,\"\").trim()),this.emit(\"handler:deselect\",this)}},{key:\"getSelectedCls\",value:function(){return this.gp.options.pfx+\"-handler-selected\"}},{key:\"remove\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.cpFn,i=this.getEl(),r=this.gp.getHandlers(),a=r.splice(r.indexOf(this),1)[0];return i&&i.parentNode.removeChild(i),!t.silent&&this.emit(\"handler:remove\",a),(0,o.isFunction)(n)&&n(this),[\"el\",\"gp\"].forEach(function(t){return e[t]=0}),a}},{key:\"getEl\",value:function(){return this.el}},{key:\"initEvents\",value:function(){var e=this,t=this.getEl(),n=this.gp.previewEl,i=this.gp.options,r=i.min,a=i.max,l=t.querySelector(\"[data-toggle=handler-close]\"),u=t.querySelector(\"[data-toggle=handler-color-c]\"),s=t.querySelector(\"[data-toggle=handler-color-wrap]\"),c=t.querySelector(\"[data-toggle=handler-color]\"),h=t.querySelector(\"[data-toggle=handler-drag]\"),f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.target.value;e.setColor(i,n),s&&(s.style.backgroundColor=i)};if(u&&(0,o.on)(u,\"click\",function(e){return e.stopPropagation()}),l&&(0,o.on)(l,\"click\",function(t){t.stopPropagation(),e.remove()}),c&&((0,o.on)(c,\"change\",f),(0,o.on)(c,\"input\",function(e){return f(e,0)})),h){var d=0,v=0,p=0,g={},y={},m={},k=function(t){var n=(0,o.getPointerEvent)(t);p=1,m.x=n.clientX-y.x,m.y=n.clientY-y.y,d=100*m.x,d/=g.w,d=v+d,d=d<r?r:d,d=d>a?a:d,e.setPosition(d,0),e.emit(\"handler:drag\",e,d),(0,o.isDef)(t.button)&&0===t.which&&b(t)},b=function t(n){(0,o.off)(document,\"touchmove mousemove\",k),(0,o.off)(document,\"touchend mouseup\",t),p&&(p=0,e.setPosition(d),e.emit(\"handler:drag:end\",e,d))},w=function(t){if(!(0,o.isDef)(t.button)||0===t.button){e.select();var i=(0,o.getPointerEvent)(t);v=e.position,g.w=n.clientWidth,g.h=n.clientHeight,y.x=i.clientX,y.y=i.clientY,(0,o.on)(document,\"touchmove mousemove\",k),(0,o.on)(document,\"touchend mouseup\",b),e.emit(\"handler:drag:start\",e)}};(0,o.on)(h,\"touchstart mousedown\",w),(0,o.on)(h,\"click\",function(e){return e.stopPropagation()})}}},{key:\"emit\",value:function(){var e;(e=this.gp).emit.apply(e,arguments)}},{key:\"render\",value:function(){var e=this.gp,t=e.options,n=e.previewEl,i=e.colorPicker,r=t.pfx,o=t.colorEl,a=this.getColor();if(n){var l=document.createElement(\"div\"),u=l.style,s=r+\"-handler\";return l.className=s,l.innerHTML='\\n      <div class=\"'+s+'-close-c\">\\n        <div class=\"'+s+'-close\" data-toggle=\"handler-close\">&Cross;</div>\\n      </div>\\n      <div class=\"'+s+'-drag\" data-toggle=\"handler-drag\"></div>\\n      <div class=\"'+s+'-cp-c\" data-toggle=\"handler-color-c\">\\n        '+(o||'\\n          <div class=\"'+s+'-cp-wrap\" data-toggle=\"handler-color-wrap\" style=\"background-color: '+a+'\">\\n            <input type=\"color\" data-toggle=\"handler-color\" value=\"'+a+'\">\\n          </div>')+\"\\n      </div>\\n    \",u.position=\"absolute\",u.top=0,u.left=this.position+\"%\",n.appendChild(l),this.el=l,this.initEvents(),this.cpFn=i&&i(this),l}}}]),e}();t.default=a}])});","import Grapick from 'grapick';\n\nconst cpKey = 'data-cp';\nlet inputDirection, inputType;\n\nconst getColor = color => {\n  let cl = color.getAlpha() == 1 ? color.toHexString() : color.toRgbString();\n  return cl.replace(/ /g, '');\n}\n\nexport default (editor, config = {}) => {\n  const sm = editor.StyleManager;\n  const { selectEdgeStops } = config;\n  let colorPicker = config.colorPicker;\n  let lastOpts = {};\n  const defDir = [ 'top', 'right', 'bottom', 'left' ];\n  const updateLastOpts = opts => {\n    lastOpts = opts || { fromTarget: 1, avoidStore: 1 };\n    setTimeout(() => lastOpts = {});\n  }\n\n  sm.addType('gradient', {\n    view: {\n\n      // I don't need any event\n      events: {\n        'click [data-clear-style]': 'clear',\n      },\n\n\n      // Don't need a template as the input will be created by Grapick\n      templateInput: () => '',\n\n\n      // With `setValue` I should indicate how to update the custom input,\n      // in our case Grapick instance.\n      // The `value` in this case might be something like:\n      // `linear-gradient(90deg, red 1%, blue 99%)`\n      setValue(value) {\n        const { gp } = this;\n        if (!gp) return;\n        const defValue = this.model.getDefaultValue();\n        value = value || defValue;\n        updateLastOpts();\n        gp.setValue(value);\n        // Update also our optional inputs for the type and the\n        // direction of a gradient color\n        const dir = gp.getDirection();\n        const valueDir = defDir.filter(i => dir.indexOf(i) >= 0)[0] || dir;\n        gp.setDirection(valueDir); // Ensure the new value\n        inputType && inputType.setValue(gp.getType());\n        inputDirection && inputDirection.setValue(valueDir);\n        const handlers = gp.getHandlers();\n        selectEdgeStops &&\n          [handlers[0], handlers[handlers.length - 1]].filter(i => i)\n            .map(h => h.select({ keepSelect: 1 }));\n      },\n\n      destroy() {\n        const { gp } = this;\n        gp && gp.destroy();\n      },\n\n\n      // Here all I need is to setup the Grapick input and append it somewhere\n      // on the property\n      onRender() {\n        const { ppfx, em, model } = this;\n        const conf = {\n          ...config,\n          ...(model.get('gradientConfig') || {}),\n        };\n        const { onCustomInputChange } = conf;\n        const el = document.createElement('div');\n        const colorEl = colorPicker && `<div class=\"grp-handler-cp-wrap\">\n          <div class=\"${ppfx}field-colorp-c\">\n            <div class=\"${ppfx}checker-bg\"></div>\n            <div class=\"${ppfx}field-color-picker\" ${cpKey}></div>\n          </div>\n        </div>`;\n\n        // Setup Grapick\n        const gp = new Grapick({\n          el,\n          colorEl,\n          ...conf.grapickOpts,\n        });\n        const fields = this.el.querySelector(`.${ppfx}fields`);\n        fields.style.flexWrap = 'wrap';\n        fields.appendChild(el.children[0]);\n        this.gp = gp;\n\n        // Do stuff on gradient change\n        gp.on('change', complete => {\n          // You should use `model.setValue` when you expect to reflect changes\n          // on the input, `model.setValueFromInput` is to used when the change comes\n          // from the input itself, like in this case\n          model.setValueFromInput(gp.getValue(), complete, lastOpts);\n        });\n\n        // Add custom inputs, if requested\n        [\n          ['inputDirection', 'select', 'setDirection', {\n            name: 'Direction',\n            property: '__gradient-direction',\n            defaults: 'right',\n            options: defDir.map(value => ({ value }))\n          }],\n          ['inputType', 'select', 'setType', {\n            name: 'Type',\n            defaults: 'linear',\n            property: '__gradient-type',\n            options: [\n              {value: 'radial'},\n              {value: 'linear'},\n              {value: 'repeating-radial'},\n              {value: 'repeating-linear'},\n            ]\n          }]\n        ].forEach(input => {\n            const inputName = input[0];\n            const inputConfig = conf[inputName];\n            if (inputConfig) {\n              const { parent } = model;\n              const type = input[1];\n              const inputObj = typeof inputConfig == 'object' ? inputConfig : {};\n              const propInput = sm.createType(inputObj.type || type, {\n                model: { ...input[3], ...inputObj },\n                view: { propTarget: this.propTarget },\n              });\n              parent && (propInput.model.parent = parent);\n              propInput.render();\n              propInput.model.on('change:value', (model, val, opts = {}) => {\n                updateLastOpts(opts);\n                gp.el && gp[input[2]](model.getFullValue() || model.getDefaultValue(), { complete: !opts.avoidStore });\n                onCustomInputChange({ model, input, inputDirection, inputType, opts });\n              });\n              fields.appendChild(propInput.el);\n              inputName == 'inputDirection' && (inputDirection = propInput);\n              inputName == 'inputType' && (inputType = propInput);\n            }\n        })\n\n        // Add the custom color picker, if requested\n        if (colorPicker == 'default') {\n          colorPicker = handler => {\n            const el = handler.getEl().querySelector(`[${cpKey}]`);\n            const elStyle = el.style;\n            elStyle.backgroundColor = handler.getColor();\n            const emConf = em && em.getConfig() || {};\n            const colorPickerConfig = emConf.colorPicker || {};\n            const elToAppend = emConf.el;\n            const updateColor = (color, complete = 1) => {\n              const cl = getColor(color);\n              elStyle.backgroundColor = cl;\n              handler.setColor(cl, complete);\n            };\n            const cpOpts = {\n              color: handler.getColor(),\n              change(color) {\n                updateColor(color);\n              },\n              move(color) {\n                updateColor(color, 0);\n              },\n            }\n            const baseCp = em && em.initBaseColorPicker;\n            baseCp ? baseCp(el, cpOpts) : editor.$(el).spectrum({\n              containerClassName: `${ppfx}one-bg ${ppfx}two-color`,\n              appendTo: elToAppend || 'body',\n              maxSelectionSize: 8,\n              showPalette: true,\n              palette: [],\n              showAlpha: true,\n              chooseText: 'Ok',\n              cancelText: 'тип',\n              ...cpOpts,\n              ...colorPickerConfig,\n            });\n          };\n\n          gp.on('handler:remove', handler => {\n            const el = handler.getEl().querySelector(`[${cpKey}]`);\n            const $el = editor.$(el);\n            $el.spectrum && $el.spectrum('destroy');\n          })\n        }\n\n        colorPicker && gp.setColorPicker(colorPicker);\n      },\n    }\n  })\n}\n","import loadStyles from './styles';\n\nexport default (editor, opts = {}) => {\n  let defaults = {\n    // Grapick options\n    grapickOpts: {},\n\n    // Custom color picker, check Grapick's repo to get more about it\n    // If you leave it empty the native color picker will be used.\n    // You can use 'default' string to get the one used by Grapesjs (which\n    // is spectrum at the moment of writing)\n    colorPicker: '',\n\n    // Show gradient direction input under picker, you can pass an object\n    // as a model\n    inputDirection: 1,\n\n    // Show gradient type input under picker, you can pass an object as\n    // a model\n    inputType: 1,\n\n    // Select, by default, the edge color stops of the gradient picker\n    selectEdgeStops: 1,\n\n    // Do something when inputDirection/inputType triggers a change\n    onCustomInputChange: () => 0,\n  };\n\n  // Load defaults\n  const config = { ...defaults, ...opts };\n\n  // Add styles\n  loadStyles(editor, config);\n};\n"],"sourceRoot":""}