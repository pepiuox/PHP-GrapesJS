/*! grapesjs-bootstrap3-carousel-plugin - 0.0.248 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["grapesjs-bootstrap3-carousel-plugin"]=e():t["grapesjs-bootstrap3-carousel-plugin"]=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){var o=n(2);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),a.forEach(function(e){o(t,e,n[e])})}return t}},function(t,e,n){var o=n(3),a=n(4),i=n(5);t.exports=function(t){return o(t)||a(t)||i()}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(1),s=n.n(i),c=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=JSON.stringify((e=n.prefixName,"<style>\n                        .".concat(e," {\n                            margin-bottom: 60px;\n                        }\n                        .").concat(e," img {\n                          border: 0;\n                          margin: 0;\n                        }\n                        .").concat(e," svg:not(:root) {\n                          overflow: hidden;\n                        }\n                        .").concat(e," img {\n                          vertical-align: middle;\n                        }\n                        .").concat(e," .img-responsive,\n                        .").concat(e," .ch-carousel-inner > .item > img,\n                        .").concat(e," .ch-carousel-inner > .item > a > img {\n                          display: block;\n                          max-width: 100%;\n                          width: 100%;\n                        }\n                        .").concat(e," .sr-only {\n                          position: absolute;\n                          width: 1px;\n                          height: 1px;\n                          margin: -1px;\n                          padding: 0;\n                          overflow: hidden;\n                          clip: rect(0, 0, 0, 0);\n                          border: 0;\n                        }\n                        .").concat(e," .sr-only-focusable:active,\n                        .").concat(e," .sr-only-focusable:focus {\n                          position: static;\n                          width: auto;\n                          height: auto;\n                          margin: 0;\n                          overflow: visible;\n                          clip: auto;\n                        }\n                        .").concat(e,".carousel {\n                          position: relative;\n                          min-height: 200px;\n                          padding: 1px 20px;   \n                        }\n                        .").concat(e," .ch-carousel-inner {\n                          overflow: hidden;\n                          width: 100%;\n                          min-height: 200px;\n                          position: relative;\n                          padding: 1px;\n                        }\n                        .").concat(e," .captions-container > .ch-carousel-caption {\n                          display: none;\n                          -webkit-transition: 0.6s ease-in-out left;\n                          -o-transition: 0.6s ease-in-out left;\n                          transition: 0.6s ease-in-out left;\n                          position: absolute;\n                          left: 0;\n                          right: 0;\n                          margin-left: auto;\n                          margin-right: auto;\n                          width: 80%;\n                        }\n                        .").concat(e," .ch-carousel-inner > .item {\n                          display: none;\n                          position: relative;\n                          -webkit-transition: 0.6s ease-in-out left;\n                          -o-transition: 0.6s ease-in-out left;\n                          transition: 0.6s ease-in-out left;\n                          min-height: 200px;\n                          padding: 1px;\n                          background: #F5F5F5;\n                        }\n                        .").concat(e," .ch-carousel-inner > .item > img,\n                        .").concat(e," .ch-carousel-inner > .item > a > img {\n                          line-height: 1;\n                          display: block;\n                          margin: auto;\n                        }\n                         .").concat(e,".caption-none > .item > .ch-carousel-caption,\n                         .").concat(e,".caption-none > .captions-container > .ch-carousel-caption {\n                            display: none;\n                        }\n                        .").concat(e," > .captions-container > .ch-carousel-caption.prev.right,\n                        .").concat(e," > .captions-container > .ch-carousel-caption.next.left {\n                            animation: fadeIn 600ms forwards;\n                        }\n                        .").concat(e," > .captions-container > .ch-carousel-caption.active.left,\n                        .").concat(e," > .captions-container > .ch-carousel-caption.active.right {\n                            animation: fadeOut 600ms forwards;\n                        }\n                        @keyframes fadeIn {\n                          0%   {opacity: 0;}\n                          50%  {opacity: 0;}\n                          100% {opacity: 100%;}\n                        }\n                        @keyframes fadeOut {\n                          0%   {opacity: 100%;}\n                          50%  {opacity: 0;}\n                          100% {opacity: 0;}\n                        }\n                        @media all and (transform-3d), (-webkit-transform-3d) {\n                          .").concat(e," .captions-container > .ch-carousel-caption,\n                          .").concat(e," .ch-carousel-inner > .item {\n                            -webkit-transition: -webkit-transform 0.6s ease-in-out;\n                            -o-transition: -o-transform 0.6s ease-in-out;\n                            transition: transform 0.6s ease-in-out;\n                            -webkit-backface-visibility: hidden;\n                            backface-visibility: hidden;\n                            -webkit-perspective: 1000px;\n                            perspective: 1000px;\n                          }\n                          .").concat(e," .captions-container > .ch-carousel-caption.next,\n                          .").concat(e," .captions-container > .ch-carousel-caption.active.right,\n                          .").concat(e," .ch-carousel-inner > .item.next,\n                          .").concat(e," .ch-carousel-inner > .item.active.right {\n                            -webkit-transform: translate3d(100%, 0, 0);\n                            transform: translate3d(100%, 0, 0);\n                            left: 0;\n                          }\n                          .").concat(e," .captions-container > .ch-carousel-caption.prev,\n                          .").concat(e," .captions-container > .ch-carousel-caption.active.left,\n                          .").concat(e," .ch-carousel-inner > .item.prev,\n                          .").concat(e," .ch-carousel-inner > .item.active.left {\n                            -webkit-transform: translate3d(-100%, 0, 0);\n                            transform: translate3d(-100%, 0, 0);\n                            left: 0;\n                          }\n                          .").concat(e," .captions-container > .ch-carousel-caption.next.left,\n                          .").concat(e," .captions-container > .ch-carousel-caption.prev.right,\n                          .").concat(e," .captions-container > .ch-carousel-caption.active,\n                          .").concat(e," .ch-carousel-inner > .item.next.left,\n                          .").concat(e," .ch-carousel-inner > .item.prev.right,\n                          .").concat(e," .ch-carousel-inner > .item.active {\n                            -webkit-transform: translate3d(0, 0, 0);\n                            transform: translate3d(0, 0, 0);\n                            left: 0;\n                          }\n                        }\n                        .").concat(e," .captions-container > .prev,\n                        .").concat(e," .captions-container > .next,\n                        .").concat(e," .captions-container > .active,\n                        .").concat(e," .ch-carousel-inner > .active,\n                        .").concat(e," .ch-carousel-inner > .next,\n                        .").concat(e," .ch-carousel-inner > .prev {\n                          display: block;\n                        }\n                        .").concat(e," .captions-container > .active,\n                        .").concat(e," .ch-carousel-inner > .active {\n                          left: 0;\n                        }\n                        .").concat(e," .ch-carousel-inner > .next,\n                        .").concat(e," .ch-carousel-inner > .prev {\n                          position: absolute;\n                          top: 0;\n                          width: 100%;\n                        }\n                        .").concat(e," .captions-container > .next,\n                        .").concat(e," .ch-carousel-inner > .next {\n                          left: 100%;\n                        }\n                        .").concat(e," .captions-container > .prev,\n                        .").concat(e," .ch-carousel-inner > .prev {\n                          left: -100%;\n                        }\n                        .").concat(e," .captions-container > .next.left,\n                        .").concat(e," .captions-container > .prev.right,\n                        .").concat(e," .ch-carousel-inner > .next.left,\n                        .").concat(e," .ch-carousel-inner > .prev.right {\n                          left: 0;\n                        }\n                        .").concat(e," .captions-container > .active.left,\n                        .").concat(e," .ch-carousel-inner > .active.left {\n                          left: -100%;\n                        }\n                        .").concat(e," .captions-container > .active.right,\n                        .").concat(e," .ch-carousel-inner > .active.right {\n                          left: 100%;\n                        }\n                        .").concat(e," .ch-carousel-control svg {\n                            position: absolute;\n                            z-index: 5;\n                            top: calc(50% - 11px);\n                        }\n                        .").concat(e," .ch-carousel-control {\n                          position: absolute;\n                          top: 0;\n                          left: 0;\n                          bottom: 0;\n                          width: 5%;\n                          opacity: 0.5;\n                          filter: alpha(opacity=50);\n                          font-size: 20px;\n                          color: #ffffff;\n                          text-align: center;\n                          background-color: rgba(0, 0, 0, 0);\n                        }\n                        .").concat(e," .ch-carousel-control.left {\n                          left: -2%;\n                          height: 100%;\n                        }\n                        .").concat(e," .ch-carousel-control.right {\n                          left: auto;\n                          right: -2%;\n                          height: 100%;\n                        }\n                        .").concat(e," .ch-carousel-control.right svg {\n                          left: calc(50% - 6px);\n                        }\n                        .").concat(e," .ch-carousel-control.left svg {\n                          right: calc(50% - 6px);\n                        }\n                        .").concat(e," .ch-carousel-control:hover,\n                        .").concat(e," .ch-carousel-control:focus {\n                          outline: 0;\n                          color: #ffffff;\n                          text-decoration: none;\n                          opacity: 0.9;\n                          filter: alpha(opacity=90);\n                        }\n                        .").concat(e," .ch-carousel-control .icon-prev,\n                        .").concat(e," .ch-carousel-control .icon-next,\n                        .").concat(e," .ch-carousel-control .glyphicon-chevron-left,\n                        .").concat(e," .ch-carousel-control .glyphicon-chevron-right {\n                          position: absolute;\n                          top: 50%;\n                          margin-top: -10px;\n                          z-index: 5;\n                          display: inline-block;\n                        }\n                        .").concat(e," .ch-carousel-control .icon-prev,\n                        .").concat(e," .ch-carousel-control .glyphicon-chevron-left {\n                          left: 50%;\n                          margin-left: -10px;\n                        }\n                        .").concat(e," .ch-carousel-control .icon-next,\n                        .").concat(e," .ch-carousel-control .glyphicon-chevron-right {\n                          right: 50%;\n                          margin-right: -10px;\n                        }\n                        .").concat(e," .ch-carousel-control .icon-prev,\n                        .").concat(e," .ch-carousel-control .icon-next {\n                          width: 20px;\n                          height: 20px;\n                          line-height: 1;\n                          font-family: serif;\n                        }\n                        .").concat(e," .carousel-indicators {\n                          position: absolute;\n                          bottom: -40px !important;\n                          left: 50%;\n                          z-index: 15;\n                          width: 60%;\n                          margin-left: -30%;\n                          padding-left: 0;\n                          list-style: none;\n                          text-align: center;\n                        }\n                        .").concat(e," .carousel-indicators li {\n                          display: inline-block;\n                          width: 8px;\n                          height: 8px;\n                          margin: 1px 4px;\n                          text-indent: -999px;\n                          border-radius: 10px;\n                          cursor: pointer;\n                          background-color: #dadada;\n                        }\n                        .").concat(e," .carousel-indicators .active {\n                          width: 8px;\n                          height: 8px;\n                          background-color: #6F6F6F;\n                        }\n                        .").concat(e," .ch-carousel-caption {\n                          position: absolute;\n                          left: 15%;\n                          right: 15%;\n                          z-index: 10;\n                          padding-top: 20px;\n                          padding-bottom: 20px;\n                          text-align: center;\n                          font-size: 14px;\n                          bottom: -84px !important;\n                          color: #9B9B9B;\n                        }\n                        .").concat(e," .ch-carousel-caption .btn {\n                          text-shadow: none;\n                        }\n                        .").concat(e," .carousel-page-counter {\n                            display: none;\n                        }\n                        @media screen and (min-width: 768px) {\n                          .").concat(e," .ch-carousel-control .glyphicon-chevron-left,\n                          .").concat(e," .ch-carousel-control .glyphicon-chevron-right,\n                          .").concat(e," .ch-carousel-control .icon-prev,\n                          .").concat(e," .ch-carousel-control .icon-next {\n                            width: 30px;\n                            height: 30px;\n                            margin-top: -10px;\n                            font-size: 30px;\n                          }\n                          .").concat(e," .ch-carousel-control .glyphicon-chevron-left,\n                          .").concat(e," .ch-carousel-control .icon-prev {\n                            margin-left: -10px;\n                          }\n                          .").concat(e," .ch-carousel-control .glyphicon-chevron-right,\n                          .").concat(e," .ch-carousel-control .icon-next {\n                            margin-right: -10px;\n                          }\n                          .").concat(e," .ch-carousel-caption {\n                            left: 20%;\n                            right: 20%;\n                            padding-bottom: 30px;\n                          }\n                          .").concat(e," .carousel-indicators {\n                            bottom: 20px;\n                          }\n                        }\n                        .").concat(e," .center-block {\n                          display: block;\n                          margin-left: auto;\n                          margin-right: auto;\n                        }\n                        @media screen and (max-width: 768px) {\n                            .").concat(e," .carousel-page-counter {\n                                display: block;\n                                position: absolute;\n                                left: 50%;\n                                z-index: 15;\n                                width: 60%;\n                                margin-left: -30%;\n                                padding-left: 0px;\n                                list-style-type: none;\n                                list-style-position: initial;\n                                list-style-image: initial;\n                                text-align: center;\n                                bottom: -30px !important;\n                                color: #6F6F6F;\n                            }\n                            .").concat(e," .ch-carousel-control.left {\n                              left: calc(50% - 50px);\n                              width: 30px;\n                              height: 30px;\n                              bottom: -95px;\n                              top: auto;\n                              text-align: left;\n                              z-index: 1500;\n                            }\n                            .").concat(e," .ch-carousel-control.left svg {\n                              text-align: right;\n                              top: calc(50% - 11px);\n                            }\n                            .").concat(e," .ch-carousel-control.right {\n                              right: calc(50% - 50px);\n                              width: 30px;\n                              height: 30px;\n                              bottom: -95px;\n                              top: auto;\n                              z-index: 1500;\n                            }\n                            .").concat(e," .ch-carousel-control.right svg {\n                              text-align: right;\n                              top: calc(50% - 11px);\n                            }\n                            .").concat(e," .carousel-indicators {\n                                display: none;\n                            }\n                        }\n                    </style>"))).replace(/\\n/g,"");o=JSON.parse(o.replace(/\\n/g,"").replace(/  /g,"").replace(/<style>/gim,"").replace(/<\/style>/gim,""));var i=t.DomComponents,s=i.getType("default"),c=s.model,r=s.view,l=c.extend({defaults:a()({},c.prototype.defaults,{interval:n.interval,droppable:!1,removable:!0,attributes:{class:"".concat(n.prefixName," bst-carousel carousel slide"),"data-autoplay":1,"data-ride":"carousel","data-type":"slider","data-captions":1,"data-indicators":1,"data-interval":5e3},slides:n.slides,autoplay:n.autoplay,showCaptions:n.showCaptions,showIndicator:n.showIndicator,moveTo:null,traits:[{label:"Auto play",name:"autoplay",changeProp:1,type:"checkbox"},{label:"Interval between slides",name:"interval",changeProp:1,type:"number"},{label:"Number of slides (max 20)",name:"slides",changeProp:1,type:"number"},{label:"Show captions",name:"showCaptions",changeProp:1,type:"checkbox"},{label:"Show indicators",name:"showIndicator",changeProp:1,type:"checkbox"}],toolbar:[{attributes:{class:"far fa-trash-alt"},command:"tlb-delete"},{attributes:{class:"far fa-arrows"},command:"tlb-move"},{attributes:{class:"far fa-arrow-up"},command:"select-parent"}],script:function(){var t=this.getAttribute("data-interval")||"5000",e=1==this.getAttribute("data-autoplay"),n=this.getAttribute("data-moveto")||"",o=this.id,a=document.querySelectorAll("#".concat(o," .carousel-indicators li")),i=!0,s=!1,c=void 0;try{for(var r,l=a[Symbol.iterator]();!(i=(r=l.next()).done);i=!0){r.value.setAttribute("data-target","#".concat(o))}}catch(t){s=!0,c=t}finally{try{i||null==l.return||l.return()}finally{if(s)throw c}}var d=document.querySelectorAll("#".concat(o," .ch-carousel-control")),p=!0,u=!1,h=void 0;try{for(var m,g=d[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){m.value.setAttribute("href","#".concat(o))}}catch(t){u=!0,h=t}finally{try{p||null==g.return||g.return()}finally{if(u)throw h}}var f=function(){jQuery.fn.carousel||(function(e){var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function o(t){return this.each(function(){var o=e(this),a=o.data("bs.carousel"),i=e.extend({},n.DEFAULTS,o.data(),t),s="string"==typeof t?t:i.slide;a||o.data("bs.carousel",a=new n(this,i)),"number"==typeof t?a.setInterval(t):"string"==typeof s?a[s]&&a[s]():i.interval&&a.pause().cycle()})}n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:t,pause:"hover",wrap:!0,keyboard:!1},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(t,n){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval=n||this.options.interval,this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){this.$items=t.parent().children(".item");var e=this.$items.index(t||this.$active),n=this.$items.parent().parent().children()[0];return n&&n.innerText&&(n.innerText="".concat(e+1," of ").concat(this.$items.length)),e},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);return("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap?e:(n+("prev"==t?-1:1))%this.$items.length},n.prototype.setInterval=function(t){this.cycle(null,t)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t),this.$element.find(".captions-container").children().eq(t))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,o,a){this.$indicators=this.$element.find(".carousel-indicators");var i=this.$element.find(".item.active"),s=this.getItemForDirection(t,i),c=o||this.$items.eq(s),r=this.$element.find(".captions-container"),l=this.$element.find(".ch-carousel-caption.active"),d=a||r.children().eq(s),p=this.interval,u="next"==t?"left":"right",h=this;if(c.hasClass("active"))return this.sliding=!1;var m=c[0],g=e.Event("slide.bs.carousel",{relatedTarget:m,direction:u});if(this.$element.trigger(g),!g.isDefaultPrevented()){if(this.sliding=!0,p&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(c)]);f&&f.addClass("active")}var v=e.Event("slid.bs.carousel",{relatedTarget:m,direction:u});return e.support.transition&&this.$element.hasClass("slide")?(c.addClass(t),d.addClass(t),c[0]&&c[0].offsetWidth,i.addClass(u),l.addClass(u),c.addClass(u),d.addClass(u),i.one("bsTransitionEnd",function(){c.removeClass([t,u].join(" ")).addClass("active"),d.removeClass([t,u].join(" ")).addClass("active"),i.removeClass(["active",u].join(" ")),l.removeClass(["active",u].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(v)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),l.removeClass("active"),c.addClass("active"),d.addClass("active"),this.sliding=!1,this.$element.trigger(v)),p&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=o,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this};var i=function(t){var n,a=e(this),i=e(a.attr("data-target")||(n=a.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var s=e.extend({},i.data(),a.data()),c=a.attr("data-slide-to");c&&(s.interval=!1),o.call(i,s),c&&i.data("bs.carousel").to(c),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);o.call(t,t.data())})})}(jQuery),function(t){t.fn.emulateTransitionEnd=function(e){var n=!1,o=this;t(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||t(o).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery)),jQuery("#".concat(o)).carousel({keyboard:!1}),jQuery("#".concat(o)).carousel(parseInt(t)),jQuery("#".concat(o)).carousel("pause"),!0===Boolean(e)&&jQuery("#".concat(o)).carousel("cycle"),n&&jQuery("#".concat(o)).carousel(n)};if("undefined"==typeof jQuery){var v=document.createElement("script");v.onload=f,v.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js",document.body.appendChild(v)}else f()}})},{isComponent:function(t){return t.getAttribute&&"slider"===t.getAttribute("data-type")?{type:"slider"}:""}}),d=r.extend({events:{click:"click"},addSlide:function(){this.model.set("slides",parseInt(this.model.get("slides"))+1)},removeSlide:function(){this.model.set("slides",parseInt(this.model.get("slides"))-1)},updatePage:function(){var t=this;this.model.setAttributes(a()({"data-interval":this.model.get("interval"),"data-autoplay":this.model.get("autoplay")?1:0},this.model.getAttributes(),{"data-moveto":this.model.get("moveTo")})),this.updateScript(),setTimeout(function(){t.model.set("moveTo",null),t.updateScript()},600)},updateIndicator:function(){this.model.setAttributes(a()({},this.model.getAttributes(),{"data-indicators":1==this.model.get("showIndicator")?1:0})),this.model.get("showIndicator")?this.model.removeClass("indicator-none"):this.model.addClass("indicator-none")},updateCaptions:function(){this.model.setAttributes(a()({},this.model.getAttributes(),{"data-captions":1==this.model.get("showCaptions")?1:0}))},updateAutoplay:function(){this.model.setAttributes(a()({},this.model.getAttributes(),{"data-autoplay":1==this.model.get("autoplay")?1:0}))},updateInterval:function(){this.model.setAttributes(a()({},this.model.getAttributes(),{"data-interval":this.model.get("interval")}))},init:function(){var e,a=this;t.on("component:selected",function(t){("slide"===t.get("type")||t.parent()&&"slide"===t.parent().get("type"))&&(a.updateScript(),e=setInterval(function(){return a.updateScript()},a.model.get("interval")-100))}),t.on("component:deselected",function(t){clearInterval(e)}),this.listenTo(this.model,"change:autoplay change:moveTo change:interval",this.updatePage),this.listenTo(this.model,"change:showIndicator",this.updateIndicator),this.listenTo(this.model,"change:showCaptions",this.updateCaptions),this.listenTo(this.model,"change:autoplay",this.updateAutoplay),this.listenTo(this.model,"change:interval",this.updateInterval);var i=this.model.components();if(setTimeout(function(){a.model.set("slides",a.model.view.el.childNodes[2].childNodes.length),a.model.set("showCaptions",1==a.model.getAttributes()["data-captions"]),a.model.set("showIndicator",1==a.model.getAttributes()["data-indicators"]),a.model.set("autoplay",1==a.model.getAttributes()["data-autoplay"]),a.model.set("interval",Number(a.model.getAttributes()["data-interval"]))},100),!i.length){var s="",c=t.getCss({keepUnusedStyles:!0});c.includes(".bst-carousel")||(s=c+o),s&&(t.CssComposer.clear(),t.setStyle(s)),i.add('\n                    <div class="carousel-page-counter">1 of 3</div>\n\n                    \x3c!-- Indicators --\x3e\n                    <ol class="carousel-indicators" data-type="'.concat(n.prefixName,'-indicators">\n                        <li data-target="#" data-slide-to="0" class="active indicator-point" data-gjs-type="indicator-point" data-type="indicator-point"></li>\n                        <li data-target="#" data-slide-to="1" class="indicator-point" data-gjs-type="indicator-point" data-type="indicator-point"></li>\n                        <li data-target="#" data-slide-to="2" class="indicator-point" data-gjs-type="indicator-point" data-type="indicator-point"></li>\n                    </ol>\n\n                    \x3c!-- Wrapper for slides --\x3e\n                    <div class="ch-carousel-inner" role="listbox" data-type="').concat(n.prefixName,'-slides">\n                        <div class="item carousel-item active" data-gjs-type="slide" data-type="slide"></div>\n                        <div class="item carousel-item" data-gjs-type="slide" data-type="slide"></div>\n                        <div class="item carousel-item" data-gjs-type="slide" data-type="slide"></div>\n                    </div>\n                    \n                    <div class="captions-container">\n                        <div class="ch-carousel-caption active" data-gjs-type="text" data-type="text">\n                            Slide 1\n                        </div>\n                        <div class="ch-carousel-caption" data-gjs-type="text" data-type="text">\n                            Slide 2\n                        </div>\n                        <div class="ch-carousel-caption" data-gjs-type="text" data-type="text">\n                            Slide 3\n                        </div>\n                    </div>\n\n                    \x3c!-- Controls --\x3e\n                    <a class="').concat(n.prefixName,' left ch-carousel-control" href="#" role="button" data-slide="prev">\n                        <svg width="12" height="21" viewBox="0 0 12 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="carousel-svg left" data-type="svg" data-gjs-type="svg">\n                            <path class="carousel-svg left" d="M10.8281 20.7948C10.7344 20.8885 10.5938 20.9354 10.4531 20.9354C10.2656 20.9354 10.125 20.8885 10.0312 20.7948L0.234375 10.951C0.09375 10.8573 0.046875 10.7635 0.046875 10.576C0.046875 10.4354 0.09375 10.2948 0.234375 10.201L10.0312 0.3573C10.125 0.26355 10.2656 0.216675 10.4531 0.216675C10.5938 0.216675 10.7344 0.26355 10.8281 0.3573L11.7656 1.2948C11.8594 1.38855 11.9531 1.52917 11.9531 1.6698C11.9531 1.8573 11.8594 1.99792 11.7656 2.09167L3.28125 10.576L11.7656 19.0604C11.8594 19.201 11.9531 19.3417 11.9531 19.4823C11.9531 19.6698 11.8594 19.7635 11.7656 19.8573L10.8281 20.7948Z" fill="#6F6F6F"/>\n                        </svg>\n                    </a>\n                    <a class="').concat(n.prefixName,' right ch-carousel-control" href="#" role="button" data-slide="next">\n                        <svg width="12" height="21" viewBox="0 0 12 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="carousel-svg right" data-type="svg" data-gjs-type="svg">\n                            <path class="carousel-svg right" d="M1.17188 0.3573C1.26562 0.26355 1.35938 0.216675 1.54688 0.216675C1.6875 0.216675 1.82812 0.26355 1.96875 0.3573L11.7656 10.201C11.8594 10.2948 11.9531 10.4354 11.9531 10.576C11.9531 10.7635 11.8594 10.8573 11.7656 10.951L1.96875 20.7948C1.82812 20.8885 1.6875 20.9354 1.54688 20.9354C1.35938 20.9354 1.26562 20.8885 1.17188 20.7948L0.234375 19.8573C0.09375 19.7635 0.046875 19.6698 0.046875 19.4823C0.046875 19.3417 0.09375 19.201 0.234375 19.0604L8.71875 10.576L0.234375 2.09167C0.09375 1.99792 0.046875 1.8573 0.046875 1.6698C0.046875 1.52917 0.09375 1.38855 0.234375 1.2948L1.17188 0.3573Z" fill="#6F6F6F"/>\n                        </svg>\n                    </a>\n                    ')),setTimeout(function(){t.select(a.model)},100)}},click:function(e){var n=e.target.getAttribute("class")?e.target.getAttribute("class").split(" "):[];(n.includes("carousel-indicators")||n.includes("ch-carousel-control")||n.includes("carousel-svg"))&&(e.preventDefault(),e.stopPropagation(),t.select(this.model)),(n.includes("ch-carousel-control")||n.includes("carousel-svg"))&&n.includes("left")&&this.model.set("moveTo","prev"),(n.includes("ch-carousel-control")||n.includes("carousel-svg"))&&n.includes("right")&&this.model.set("moveTo","next")},updateNumSlides:function(){var t=this.model.get("components"),e=this.model.get("slides"),n=this.model.get("autoplay");n&&this.model.set("autoplay",!1),t.models.forEach(function(t){return t.set("carouselSlides",e)}),n&&this.model.set("autoplay",!0)}});i.addType("slider",{model:l,view:d})},r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.DomComponents,o=n.getType("default"),i=o.model,s=o.view,c="mpgGallery",r=t.$,l=i.extend({defaults:a()({},i.prototype.defaults,{droppable:!1,jsSrc:e.mpgJs,cssSrc:e.mpgCss,traits:[],script:function(){var t=this.id,e=document.querySelector('script[src="{[ jsSrc ]}"]'),n=document.querySelector('link[href="{[ cssSrc ]}"]'),o=[];e||o.push(new Promise(function(t,e){var n=document.createElement("script");n.onload=t,n.onerror=e,n.src="{[ jsSrc ]}",document.body.appendChild(n)})),n||o.push(new Promise(function(t,e){var n=document.createElement("link");n.onload=t,n.onerror=e,n.rel="stylesheet",n.href="{[ cssSrc ]}",document.head.appendChild(n)})),Promise.all(o).then(function(){var e=document.getElementById(t);try{if(MaterialPhotoGallery&&e)return new MaterialPhotoGallery(e),void e.querySelectorAll("img").forEach(function(t){t.style.opacity=1,t.classList.remove("hide"),t.setAttribute("data-full",t.getAttribute("src")),t.classList.contains("m-p-g__thumbs-img")||t.classList.add("m-p-g__thumbs-img")});e.innerHTML="<h2>MaterialPhotoGallery is not loaded!</h2>",console.error("MaterialPhotoGallery is not loaded!")}catch(t){e.innerHTML="<h2>MaterialPhotoGallery is not loaded!</h2>",console.error("MaterialPhotoGallery is not loaded!",t)}})}})},{isComponent:function(t){return"DIV"===t.tagName&&t.className.includes("".concat(e.prefixName,"-m-p-g"))&&t.getAttribute&&"mpg-gallery"===t.getAttribute("data-type")?{type:c}:""}}),d=s.extend({events:{click:"click"},init:function(){},click:function(e){if(e.preventDefault(),e.stopPropagation(),e.target!==this.el){var n,o,a=(o=document.querySelectorAll("iframe.gjs-frame"),(n=o.length<1?document:o[0].contentDocument||o[0].contentWindow.document).parentWindow||n.defaultView),i=r(e.target).css("width"),s=r(e.target).css("height");t.select(e.target),a.onwheel=null,a.ontouchmove=null,r(e.target).css("opacity","1"),r(e.target).css("width",i),r(e.target).css("height",s),r(this.el).find(".m-p-g__controls").css("display","none"),r(this.el).find(".m-p-g__fullscreen").css("display","none"),this.updateScript()}}});n.addType(c,{model:l,view:d});var p=function(t){var e="function"==typeof t.parent?t.parent():null,n=e?e.parent()||e:null;n&&n.is(c)&&n.view&&n.view.updateScript&&n.view.updateScript()};t.on("component:clone",p),t.on("component:remove",p),t.on("component:update:src",p),t.on("canvas:drop",function(t,e){return p(e)}),t.on("sorter:drag:end",function(){return t.getSelected()&&p(t.getSelected())})},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,n=e.getType("default"),o=n.model,i=n.view,s=o.extend({defaults:a()({},o.prototype.defaults,{droppable:!1,draggable:!1,copyable:!1,selectable:!1,removable:!1,stylable:!1,layerable:!1,carouselSlides:3,shouldRefresh:!0,showCaptions:!0,showIndicator:!0})},{isComponent:function(t){return""}});i.extend({});e.addType("carousel-base",{model:s,view:i})}(t,e),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.DomComponents,o=n.getType("carousel-base"),i=o.model,c=o.view,r=" carousel-indicator",l=i.extend({defaults:a()({},i.prototype.defaults,{selected:0,traits:[]})},{isComponent:function(t){return"OL"===t.tagName&&t.className.includes("carousel-indicators")&&t.getAttribute&&t.getAttribute("data-type")==="".concat(e.prefixName,"-indicators")?{type:r}:""}}),d=c.extend({init:function(){this.listenTo(this.model,"change:carouselSlides",this.updateSlides),this.listenTo(this.model.parent(),"change:showIndicator",this.toggleIndicator)},toggleIndicator:function(){var t=this.model.get("components");this.model.parent().get("showIndicator")?this.updateSlides():t.reset()},updateSlides:function(){var t=this.model.get("components"),e=parseInt(this.model.get("carouselSlides")),n=this.el.id,o="";s()(Array(e).keys()).forEach(function(t){var e=0===t?"active":"";o+='<li data-target="#'.concat(n,'" data-slide-to="').concat(t,'" class="').concat(e,' indicator-point" data-type="indicator-point" data-gjs-type="indicator-point"></li>')}),t.reset(),t.add(o)}});n.addType(r,{model:l,view:d})}(t,e),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.DomComponents,o=n.getType("carousel-base"),i=o.model,c=o.view,r="carousel-slide",l=i.extend({defaults:a()({},i.prototype.defaults,{draggable:!1,droppable:!0,traits:[],orderId:[]})},{isComponent:function(t){return"DIV"===t.tagName&&t.className.includes("ch-carousel-inner")&&t.getAttribute&&t.getAttribute("data-type")==="".concat(e.prefixName,"-slides")?{type:r}:""}}),d=c.extend({init:function(){this.listenTo(this.model.components(),"add",this.addSlide),this.listenTo(this.model.components(),"remove",this.removeSlide),this.listenTo(this.model.parent(),"change:slides",this.handleSlidesNumChange),this.listenTo(this.model.parent(),"change:showCaptions",this.toggleCaptions),this.orderIds()},orderIds:function(){this.model.set("orderId",this.model.get("components").map(function(t){return t.cid}))},toggleCaptions:function(){this.model.parent().get("showCaptions")?this.model.parent().removeClass("caption-none"):this.model.parent().addClass("caption-none")},addSlide:function(t){if(this.orderIds(),this.model.get("shouldRefresh")){if(""===t.changed.status)return this.model.parent().view.addSlide(),void this.resetCaptionsAndUpdateLength();var e=this.model.components().models.findIndex(function(e){return e.cid===t.cid}),n=this.model.get("components").parent.parent().components().models[3].components(),o=n.models[e-1].clone();n.set(n.models.slice(0,e).concat([o],n.models.slice(e))),this.model.parent().view.addSlide(),this.resetCaptionsAndUpdateLength()}},resetCaptionsAndUpdateLength:function(){var e=this,n=this.model.parent().get("components").models[3].get("components");s()(Array(n.length).keys()).forEach(function(t){n.at(t).setClass("ch-carousel-caption")}),n.at(0).addClass("active"),this.model.parent().get("components").models[0].view.el.innerHTML="".concat(1," of ",this.model.get("components").length),setTimeout(function(){return t.select(e.model.get("components").at(0))},0)},removeSlide:function(t){if(this.model.get("shouldRefresh")){var e=this.model.get("orderId").findIndex(function(e){return e===t.cid}),n=this.model.get("components").parent.parent().components().models[3].components();n.set(n.models.slice(0,e).concat(n.models.slice(e+1))),this.resetCaptionsAndUpdateLength(),this.resetActive(this.model.get("components")),this.model.parent().view.removeSlide()}this.orderIds()},handleSlidesNumChange:function(){this.isSlideLimitIsReached()||(this.model.set("shouldRefresh",!1),this.model.set("carouselSlides",this.model.parent().get("slides")),this.updateSlides(),this.handleCopyPermissions(),this.model.parent().view.updateNumSlides(),this.model.set("shouldRefresh",!0))},handleCopyPermissions:function(){var t=this.model.get("components"),e=t.length<20;s()(Array(t.length).keys()).forEach(function(n){t.at(n).set("copyable",e)})},isSlideLimitIsReached:function(){var t=this.model.parent().get("slides");return t>20?(this.model.parent().set("slides",20),!0):t>20&&(this.model.parent().set("slides",20),!0)},updateSlides:function(){var t=this.model.get("components"),e=parseInt(this.model.get("carouselSlides")),n=(this.el.id,e-t.length),o=Math.abs(n);n<0?this.reduce(t,o):n>0&&this.increse(t,o),this.resetActive(t)},reduce:function(t,e){s()(Array(e).keys()).forEach(function(e){t.pop(),t.parent.parent().components().models[3].components().pop()})},increse:function(t,e){s()(Array(e).keys()).forEach(function(e){t.add('<div class="item carousel-item" data-type="slide"></div>'),t.parent.parent().components().models[3].components().add('<div class="ch-carousel-caption" data-type="text">New Slide</div>')})},resetActive:function(t){s()(Array(t.length).keys()).forEach(function(e){t.at(e).setClass("item carousel-item")}),t.at(0).addClass("active")}});n.addType(r,{model:l,view:d})}(t,e),function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,n=e.getType("carousel-base"),o=n.model,i=n.view,s="carousel-control",c=o.extend({defaults:a()({},o.prototype.defaults,{traits:[]})},{isComponent:function(t){return"A"===t.tagName&&t.className.includes("ch-carousel-control")?{type:s}:""}}),r=i.extend({init:function(){},events:{click:"click"},click:function(t){t.preventDefault()}});e.addType(s,{model:c,view:r})}(t,e),c(t,e),function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,n=e.getType("carousel-base"),o=n.model,i=n.view,s=o.extend({defaults:a()({},o.prototype.defaults,{draggable:!1,droppable:!0,selectable:!0,removable:!0,copyable:!0,toolbar:[{attributes:{class:"far fa-trash-alt"},command:"tlb-delete"},{attributes:{class:"far fa-clone"},command:"tlb-clone"},{attributes:{class:"far fa-arrow-up"},command:"select-parent"}],stylable:["border-color","border-width","border-radius","border-style","background-color","opacity","margin","margin-left","margin-right","margin-bottom","margin-top","padding","padding-left","padding-right","padding-bottom","padding-top","min-width","max-width","min-height","max-height"]})},{isComponent:function(t){if(t.className&&t.className.includes)return"DIV"===t.tagName&&t.className.includes("item")?{type:"slide"}:""}}),c=i;e.addType("slide",{model:s,view:c})}(t,e),function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,n=e.getType("carousel-base"),o=n.model,i=n.view,s="indicator-point",c=o.extend({defaults:a()({},o.prototype.defaults,{selectable:!1,hoverable:!1})},{isComponent:function(t){if(t.className&&t.className.includes)return"div"===t.tagName&&t.className.includes("indicator-point")?{type:s}:""}}),r=i;e.addType(s,{model:c,view:r})}(t,e),r(t,e)};e.default=grapesjs.plugins.add("grapesjs-bootstrap3-carousel-plugin",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a()({},{carouselBlock:{},mpgBlock:{},prefixName:"bst-carousel",autoplay:!0,interval:5e3,slides:3,showIndicator:!0,showCaptions:!0,mpgCss:"https://ettrics.github.io/material-photo-gallery/dist/css/material-photo-gallery.css",mpgJs:"https://ettrics.github.io/material-photo-gallery/dist/js/material-photo-gallery.min.js"},e);l(t,n),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.BlockManager;n.add("".concat(e.prefixName,"-carousel"),a()({label:"Slider",content:{type:"slider"},attributes:{class:"fa fa-sliders"}},e.carouselBlock)),n.add("".concat(e.prefixName,"-mpg"),a()({label:"Material Photo Gallery",content:'\n                <div class="'.concat(e.prefixName,'-m-p-g" data-type="mpg-gallery" style="display: block;overflow: auto;">\n\t\t\t<div class="m-p-g__thumbs" data-google-image-layout data-max-height="350" style="display: block;overflow: auto;">\n\t\t\t\t<img src="http://unsplash.it/600/400?image=940" data-full="http://unsplash.it/1200/800?image=940" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/640/450?image=906" data-full="http://unsplash.it/1280/900?image=906" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/550/420?image=885" data-full="http://unsplash.it/1100/840?image=885" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/650/450?image=823" data-full="http://unsplash.it/1300/900?image=823" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/600/350?image=815" data-full="http://unsplash.it/1200/700?image=815" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/560/500?image=677" data-full="http://unsplash.it/1120/1000?image=677" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/600/400?image=940" data-full="http://unsplash.it/1200/800?image=940" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/670/410?image=401" data-full="http://unsplash.it/1340/820?image=401" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/620/340?image=623" data-full="http://unsplash.it/1240/680?image=623" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/790/390?image=339" data-full="http://unsplash.it/1580/780?image=339" class="m-p-g__thumbs-img" />\n\t\t\t</div>\n\n\t\t\t<div class="m-p-g__fullscreen"></div>\n\t\t</div>\n            '),attributes:{class:"fa fa-th-large"}},e.mpgBlock))}(t,n)})}])});
//# sourceMappingURL=grapesjs-bootstrap3-carousel-plugin.min.js.map