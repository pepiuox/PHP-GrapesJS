/*! grapesjs-calendar - 0.0.2 */
!function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports["grapesjs-calendar"]=t():e["grapesjs-calendar"]=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&'object'==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,'default',{enumerable:!0,value:e}),2&t&&'string'!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,'a',t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,o=e.DomComponents,a=o.getType('default'),r=a.model,c=a.view,d=n.calendarClsPfx,l="calendar";o.addType(l,{model:r.extend({defaults:i({},r.prototype.defaults,{startfrom:n.startTime,endTime:n.endTime,allDay:n.allDay,droppable:!1,traits:[{label:'Start',name:'startfrom',changeProp:1,type:n.dateInputType},{label:'End',name:'endTime',changeProp:1,type:n.dateInputType},{label:'All Day',name:'allDay',type:'checkbox',changeProp:1,valueTrue:'YES',valueFalse:'NO'},{label:'Title',name:'title',changeProp:1},{label:'Description',name:'description',changeProp:1},{label:'Address',name:'address',changeProp:1,placeholder:'eg. London, UK'}],script:function(){var e,t,n,o,a,r=this.querySelector('[data-js=dropbtn]'),i=this.querySelector('[data-js=calendarDropdown]'),c=this.querySelector('[data-js=google]'),d=this.querySelector('[data-js=yahoo]'),l=this.querySelector('[data-js=off365]'),s=this.querySelector('[data-js=ical]'),p=this.querySelector('[data-js=outlook]'),u=new Date('{[ startfrom ]}'),f=new Date('{[ endTime ]}'),b='{[ title ]}',g='{[ address ]}',y='{[ allDay ]}',h='{[ timezone ]}',m=new Date(u),w=new Date(f),j=w-m,v=function(){var e,t;return e=O(m),t=O(w),encodeURI('data:text/calendar;charset=utf8,'+['BEGIN:VCALENDAR','VERSION:2.0','BEGIN:VEVENT','URL:'+document.URL,'DTSTART:'+(e||''),'DTEND:'+(t||''),'SUMMARY:'+b,"DESCRIPTION:{[ description ]}",'LOCATION:'+g,'UID:'+document.URL,'END:VEVENT','END:VCALENDAR'].join('\n'))},O=function(e){return e?new Date(e).toISOString().replace(/-|:|\.\d+/g,''):''},D=function(e,t){return new Date(new Date(e).getTime()+6e4*t)},T=function(e){return e.substr(0,e.indexOf('T'))},P=function(e,t){if(e){if(t){var n=new Date(e.toLocaleString('en-US',{timeZone:t})),o=e.getTime()-n.getTime();return new Date(e.getTime()+o)}return e}};m=P(u,h),w=P(f,h),c.href=function(){var e,t,n,o;-1!=y.indexOf('YES')?(e=O(u),t=O(D(f,1440)),e=T(e),t=T(t)):(n=new Date(u.getTime()-6e4*u.getTimezoneOffset()),f&&' '!==f&&(o=new Date(f.getTime()-6e4*f.getTimezoneOffset())),e=O(n),t=O(o),e=e.substring(0,e.length-1),t=t.substring(0,t.length-1));return encodeURI(['https://www.google.com/calendar/render','?action=TEMPLATE','&text='+b,'&dates='+(e||''),'/'+(t||''),'&ctz='+h,"&details={[ description ]}",'&location='+g,'&sprop=&sprop=name:'].join(''))}(),d.href=(e=w?(w.getTime()-m.getTime())/6e4:j,t=(e<600?'0'+Math.floor(e/60):Math.floor(e/60)+'')+(e%60<10?'0'+e%60:e%60+''),n=O(m)||'',encodeURI(['http://calendar.yahoo.com/?v=60&view=d&type=20','&title='+b,'&st='+n,'&dur='+(t||''),"&desc={[ description ]}",'&in_loc='+g].join(''))),l.href=(o=O(m),a=O(w),encodeURI(['https://outlook.office365.com/owa/','?path=/calendar/action/compose','&rru=addevent','&subject='+b,'&startdt='+(o||''),'&enddt='+(a||''),"&body={[ description ]}",'&location='+g,'true'].join(''))),s.href=v(),p.href=v(),r.onclick=function(){i.classList.toggle("show")},window.onclick=function(e){e.target.matches('.dropbtn')||i.classList.contains('show')&&i.classList.remove('show')}}})},{isComponent:function(e){if(e.getAttribute&&e.getAttribute('data-gjs-type')==l)return{type:l}}}),view:c.extend({init:function(){var e=['title','description','address','allDay','startTime','endTime'].map((function(e){return"change:".concat(e)})).join(' ');this.listenTo(this.model,e,this.updateScript);var t=this.model.get('components');t.length||(t.reset(),t.add("\n          <div class=\"dropdown\">\n            <div data-js=\"dropbtn\" class=\"dropbtn\">".concat(n.labelCalendarButton,"</div>\n              <div data-js=\"calendarDropdown\" class=\"").concat(d,"-dropdown dropdown-content\">\n                <a data-js=\"google\" href=\"\" target=\"_balnk\">").concat(n.google,"</a>\n                <a data-js=\"yahoo\" href=\"\" target=\"_balnk\">").concat(n.yahoo,"</a>\n                <a data-js=\"off365\" href=\"\" target=\"_balnk\">").concat(n.off365,"</a>\n                <a data-js=\"ical\" href=\"\" target=\"_balnk\">").concat(n.ical,"</a>\n                <a data-js=\"outlook\" href=\"\" target=\"_balnk\">").concat(n.outlook,"</a>\n              </div>\n            </div>\n          ")))}})})},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,o=e.BlockManager,a=n.calendarClsPfx,r=n.defaultStyle?"<style>\n  .dropbtn {\n    padding: 16px;\n    font-size: 16px;\n    border: none;\n    cursor: pointer;\n  }\n  \n  /* Dropdown button on hover & focus */\n  .dropbtn:hover, .dropbtn:focus {\n    background-color: #ddd;\n  }\n  \n  /* The container <div> - needed to position the dropdown content */\n  .dropdown {\n    position: relative;\n    display: inline-block;\n  }\n  \n  /* Dropdown Content (Hidden by Default) */\n  .dropdown-content {\n    display: none;\n    min-width: 160px;\n    z-index: 1;\n    position: absolute;\n    opacity: initial;\n    background-color: white;\n    z-index: 50; \n    left: auto;\n    top: auto;\n  }\n  \n  /* Links inside the dropdown */\n  .dropdown-content a {\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n  }\n  \n  /* Change color of dropdown links on hover */\n  .dropdown-content a:hover {background-color: #ddd;}\n  \n  /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */\n  .dropdown-content.show {\n    display: block;\n  }\n  </style>":'';o.add("calendar",{label:n.labelCalendar,category:n.labeCalendarCategory,attributes:{class:'fa fa-calendar'},content:"\n      <div class=\"".concat(a,"\" data-gjs-type=\"calendar\">\n      ").concat(r,"\n      </div>")})},l={'grapesjs-calendar':{}};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p({},{i18n:{},blocks:["calendar"],title:'',description:'',address:'',download:'Calendar-event.ics',google:'<i class="fab fa-google"></i> Google Calendar',yahoo:'<i class="fab fa-yahoo"></i> Yahoo! Calendar',off365:'<i class="fab fa-windows"></i> Office 365',ical:'<i class="fab fa-apple"></i> iCalendar',outlook:'<i class="fab fa-windows"></i> Download Outlook',allDay:'NO',defaultStyle:!0,startTime:'',endTime:'',timezone:'',dateInputType:'datetime-local',calendarClsPfx:'calendar',labelCalendarButton:'<i class="far fa-calendar-plus"></i> Event zum Kalender hinzuf√ºgen',labelCalendar:'Kalendar',labeCalendarCategory:'Extra'},{},t);c(e,n),d(e,n),e.I18n&&e.I18n.addMessages(p({en:l},n.i18n))}}])}));
//# sourceMappingURL=grapesjs-calendar.min.js.map