{"version":3,"sources":["webpack://grapesjs-plugin-forms/webpack/universalModuleDefinition","webpack://grapesjs-plugin-forms/webpack/bootstrap","webpack://grapesjs-plugin-forms/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://grapesjs-plugin-forms/./src/components.js","webpack://grapesjs-plugin-forms/./src/traits.js","webpack://grapesjs-plugin-forms/./src/blocks.js","webpack://grapesjs-plugin-forms/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","typeForm","typeInput","typeTextarea","typeSelect","typeCheckbox","typeRadio","typeButton","typeLabel","typeOption","editor","domc","DomComponents","idTrait","forTrait","nameTrait","placeholderTrait","valueTrait","requiredTrait","type","checkedTrait","addType","isComponent","el","tagName","model","defaults","droppable","draggable","attributes","method","traits","options","view","events","submit","e","preventDefault","highlightable","extendFnView","updateAttributes","this","setAttribute","extend","layerable","createOption","components","mousedown","copyable","click","init","listenTo","handleChecked","checked","text","changeProp","comps","tChild","length","models","chCnt","is","set","on","__onTextChange","TraitManager","keyup","onValueChange","target","trim","split","optComps","option","push","reset","render","getInputEl","$input","optionsArr","optValue","optTxtNode","optLabel","document","createElement","join","opt","bm","BlockManager","addBlock","id","def","blocks","indexOf","add","category","label","media","content","opts","config","loadComponents","loadTraits","loadBlocks"],"mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,yBAA2BD,IAEnCD,EAAK,yBAA2BC,IARlC,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,gBCnErDtC,EAAOD,QAfP,SAAyBwC,EAAKT,EAAKN,GAYjC,OAXIM,KAAOS,EACTtB,OAAOC,eAAeqB,EAAKT,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZqB,cAAc,EACdC,UAAU,IAGZF,EAAIT,GAAON,EAGNe,I,wDCZIG,EAAW,OACXC,EAAY,QACZC,EAAe,WACfC,EAAa,SACbC,EAAe,WACfC,EAAY,QACZC,EAAa,SACbC,EAAY,QACZC,EAAa,SAEX,WAASC,GAAkB,IAClCC,EAAOD,EAAOE,cAEdC,EAAU,CACdxC,KAAM,MAGFyC,EAAW,CACfzC,KAAM,OAGF0C,EAAY,CAChB1C,KAAM,QAGF2C,EAAmB,CACvB3C,KAAM,eAGF4C,EAAa,CACjB5C,KAAM,SAGF6C,EAAgB,CACpBC,KAAM,WACN9C,KAAM,YAGF+C,EAAe,CACnBD,KAAM,WACN9C,KAAM,WAGRsC,EAAKU,QAAQpB,EAAU,CACrBqB,YAAa,SAAAC,GAAE,MAAkB,QAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,OACTG,UAAW,aACXC,UAAW,aACXC,WAAY,CAAEC,OAAQ,OACtBC,OAAQ,CAAC,CACPZ,KAAM,SACN9C,KAAM,SACN2D,QAAS,CACP,CAACjD,MAAO,MAAOV,KAAM,OACrB,CAACU,MAAO,OAAQV,KAAM,UAEvB,CACDA,KAAM,aAKZ4D,KAAM,CACJC,OAAQ,CACNC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,sBAUrB1B,EAAKU,QAAQnB,EAAW,CACtBoB,YAAa,SAAAC,GAAE,MAAkB,SAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,QACTI,UAAW,eACXD,WAAW,EACXW,eAAe,EACfT,WAAY,CAAEV,KAAM,QACpBY,OAAQ,CACNhB,EACAC,EACA,CACEG,KAAM,SACN9C,KAAM,OACN2D,QAAS,CACP,CAAEjD,MAAO,QACT,CAAEA,MAAO,SACT,CAAEA,MAAO,YACT,CAAEA,MAAO,YAGbmC,KAKNqB,aAAc,CAAC,oBACfN,KAAM,CACJO,iBADI,WAEFC,KAAKlB,GAAGmB,aAAa,eAAgB,WAU3C/B,EAAKU,QAAQlB,EAAc,CACzBwC,OAAQzC,EACRoB,YAAa,SAAAC,GAAE,MAAkB,YAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,WACTK,WAAY,GACZE,OAAQ,CACNhB,EACAC,EACAE,OAWRP,EAAKU,QAAQZ,EAAY,CACvBa,YAAa,SAAAC,GAAE,MAAkB,UAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,SACToB,WAAW,EACXjB,WAAW,EACXC,WAAW,EACXU,eAAe,MAKrB,IAAMO,EAAe,SAAC9D,EAAOV,GAAR,MAAkB,CAAE8C,KAAMV,EAAYqC,WAAYzE,EAAMwD,WAAY,CAAE9C,WAO3F4B,EAAKU,QAAQjB,EAAY,CACvBuC,OAAQzC,EACRoB,YAAa,SAAAC,GAAE,MAAkB,UAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,SACTsB,WAAY,CACVD,EAAa,OAAQ,YACrBA,EAAa,OAAQ,aAEvBd,OAAQ,CACNhB,EACA,CACE1C,KAAM,UACN8C,KAAM,kBAERD,KAKNe,KAAM,CACJC,OAAQ,CACNa,UAAW,SAAAX,GAAC,OAAIA,EAAEC,sBAUxB1B,EAAKU,QAAQhB,EAAc,CACzBsC,OAAQzC,EACRoB,YAAa,SAAAC,GAAE,MAAkB,SAAdA,EAAGC,SAAiC,YAAXD,EAAGJ,MAE/CM,MAAO,CACLC,SAAU,CACRsB,UAAU,EACVnB,WAAY,CAAEV,KAAM,YACpBY,OAAQ,CACNlB,EACAE,EACAE,EACAC,EACAE,KAKNa,KAAM,CACJC,OAAQ,CACNe,MAAO,SAAAb,GAAC,OAAIA,EAAEC,mBAGhBa,KALI,WAMFT,KAAKU,SAASV,KAAKhB,MAAO,4BAA6BgB,KAAKW,gBAG9DA,cATI,WAUFX,KAAKlB,GAAG8B,UAAYZ,KAAKhB,MAAM9C,IAAI,cAAc0E,YAUvD1C,EAAKU,QAAQf,EAAW,CACtBqC,OAAQtC,EACRiB,YAAa,SAAAC,GAAE,MAAkB,SAAdA,EAAGC,SAAiC,SAAXD,EAAGJ,MAE/CM,MAAO,CACLC,SAAU,CACRG,WAAY,CAAEV,KAAM,aAS1BR,EAAKU,QAAQd,EAAY,CACvBoC,OAAQzC,EACRoB,YAAa,SAAAC,GAAE,MAAkB,UAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,SACTK,WAAY,CAAEV,KAAM,UACpBmC,KAAM,OACNvB,OAAQ,CACN,CACE1D,KAAM,OACNkF,YAAY,GACX,CACDpC,KAAM,SACN9C,KAAM,OACN2D,QAAS,CACP,CAAEjD,MAAO,UACT,CAAEA,MAAO,UACT,CAAEA,MAAO,aAKjBmE,KApBK,WAqBH,IAAMM,EAAQf,KAAKK,aACbW,EAA2B,IAAjBD,EAAME,QAAgBF,EAAMG,OAAO,GAC7CC,EAASH,GAAUA,EAAOI,GAAG,aAAeJ,EAAO9E,IAAI,YAAe,GACtE2E,EAAOM,GAASnB,KAAK9D,IAAI,QAC/B8D,KAAKqB,IAAI,CAAER,SACXb,KAAKsB,GAAG,cAAetB,KAAKuB,gBAC3BV,IAASM,GAAUnB,KAAKuB,kBAG3BA,eA9BK,WA+BHvB,KAAKK,WAAWL,KAAK9D,IAAI,WAI7BsD,KAAM,CACJC,OAAQ,CACNe,MAAO,SAAAb,GAAC,OAAIA,EAAEC,sBAUpB1B,EAAKU,QAAQb,EAAW,CACtBmC,OAAQ,OACRrB,YAAa,SAAAC,GAAE,MAAkB,SAAdA,EAAGC,SAEtBC,MAAO,CACLC,SAAU,CACRF,QAAS,QACTsB,WAAY,QACZf,OAAQ,CAACjB,QCjTF,WAAUJ,GACXA,EAAOuD,aAEf5C,QAAQ,iBAAkB,CAC5Ba,OAAO,CACLgC,MAAO,YAGTC,cAL4B,WAW1B,IANc,IACN1C,EAAkBgB,KAAlBhB,MAAO2C,EAAW3B,KAAX2B,OAETpC,EADaP,EAAM9C,IAAI,SAAS0F,OACXC,MAAM,MAC3BC,EAAW,GAERzG,EAAI,EAAGA,EAAIkE,EAAQ0B,OAAQ5F,IAAK,CACvC,IACM0G,EADYxC,EAAQlE,GACDwG,MAAM,MAC/BC,EAASE,KAAK,CACZtD,KAAMV,EACNqC,WAAY0B,EAAO,IAAMA,EAAO,GAChC3C,WAAY,CAAE9C,MAAOyF,EAAO,MAIhCJ,EAAOtB,aAAa4B,MAAMH,GAC1BH,EAAOnC,KAAK0C,UAGdC,WAzB4B,WA0B1B,IAAKnC,KAAKoC,OAAQ,CAIhB,IAHA,IAAMC,EAAa,GACb9C,EAAUS,KAAK2B,OAAOtB,aAEnBhF,EAAI,EAAGA,EAAIkE,EAAQ0B,OAAQ5F,IAAK,CACvC,IAAM0G,EAASxC,EAAQ2B,OAAO7F,GAExBiH,EADUP,EAAO7F,IAAI,cACFI,OAAS,GAC5BiG,EAAaR,EAAO1B,aAAaa,OAAO,GACxCsB,EAAWD,GAAcA,EAAWrG,IAAI,YAAc,GAC5DmG,EAAWL,KAAX,UAAmBM,EAAnB,aAAgCE,IAGlCxC,KAAKoC,OAASK,SAASC,cAAc,YACrC1C,KAAKoC,OAAO9F,MAAQ+F,EAAWM,KAAK,MAEtC,OAAO3C,KAAKoC,W,ikBCpCH,eAAUnE,GAAkB,IAAV2E,EAAU,uDAAJ,GAC/BlH,EAAIkH,EACJC,EAAK5E,EAAO6E,aACZC,EAAW,SAACC,EAAIC,GACpBvH,EAAEwH,OAAOC,QAAQH,IAAO,GAAKH,EAAGO,IAAIJ,EAAP,OACxBC,GADwB,IAE3BI,SAAU,CAAEL,GAAI,QAASM,MAAO,aAIpCP,EAASvF,EAAU,CACjB8F,MAAO,OACPC,MAAO,4VACPC,QAAS,CACP9E,KAAMlB,EACN6C,WAAY,CACV,CACEA,WAAY,CACV,CAAE3B,KAAMX,EAAWsC,WAAY,QAC/B,CAAE3B,KAAMjB,KAET,CACD4C,WAAY,CACV,CAAE3B,KAAMX,EAAWsC,WAAY,SAC/B,CAAE3B,KAAMjB,EAAW2B,WAAY,CAAEV,KAAM,YAExC,CACD2B,WAAY,CACV,CAAE3B,KAAMX,EAAWsC,WAAY,UAC/B,CAAE3B,KAAMd,EAAcwB,WAAY,CAAE9C,MAAO,MAC3C,CAAEoC,KAAMX,EAAWsC,WAAY,KAC/B,CAAE3B,KAAMd,EAAcwB,WAAY,CAAE9C,MAAO,MAC3C,CAAEoC,KAAMX,EAAWsC,WAAY,OAEhC,CACDA,WAAY,CACV,CAAE3B,KAAMX,EAAWsC,WAAY,WAC/B,CAAE3B,KAAMhB,KAET,CACD2C,WAAY,CAAC,CAAE3B,KAAMZ,SAM7BiF,EAAStF,EAAW,CAClB6F,MAAO,QACPC,MAAO,4MACPC,QAAS,CAAE9E,KAAMjB,KAGnBsF,EAASrF,EAAc,CACrB4F,MAAO,WACPC,MAAO,qQACPC,QAAS,CAAE9E,KAAMhB,KAGnBqF,EAASpF,EAAY,CACnB2F,MAAO,SACPC,MAAO,iOACPC,QAAS,CAAE9E,KAAMf,KAGnBoF,EAASjF,EAAY,CACnBwF,MAAO,SACPC,MAAO,+MACPC,QAAS,CAAE9E,KAAMZ,KAGnBiF,EAAShF,EAAW,CAClBuF,MAAO,QACPC,MAAO,yQACPC,QAAS,CAAE9E,KAAMX,KAGnBgF,EAASnF,EAAc,CACrB0F,MAAO,WACPC,MAAO,gNACPC,QAAS,CAAE9E,KAAMd,KAGnBmF,EAASlF,EAAW,CAClByF,MAAO,QACPC,MAAO,2QACPC,QAAS,CAAE9E,KAAMb,M,ikBC5FN,sBAACI,GAAsB,IAAdwF,EAAc,uDAAP,GAEvBC,EAAS,GACbR,OAAQ,CAAC,OAAQ,QAAS,WAAY,SAAU,SAAU,QAAS,WAAY,UAC5EO,GAGLE,EAAe1F,EAAQyF,GACvBE,EAAW3F,GACX4F,EAAW5F,EAAQyF","file":"grapesjs-plugin-forms.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-plugin-forms\"] = factory();\n\telse\n\t\troot[\"grapesjs-plugin-forms\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","export const typeForm = 'form';\nexport const typeInput = 'input';\nexport const typeTextarea = 'textarea';\nexport const typeSelect = 'select';\nexport const typeCheckbox = 'checkbox';\nexport const typeRadio = 'radio';\nexport const typeButton = 'button';\nexport const typeLabel = 'label';\nexport const typeOption = 'option';\n\nexport default function(editor, opt = {}) {\n  const domc = editor.DomComponents;\n\n  const idTrait = {\n    name: 'id',\n  };\n\n  const forTrait = {\n    name: 'for',\n  };\n\n  const nameTrait = {\n    name: 'name',\n  };\n\n  const placeholderTrait = {\n    name: 'placeholder',\n  };\n\n  const valueTrait = {\n    name: 'value',\n  };\n\n  const requiredTrait = {\n    type: 'checkbox',\n    name: 'required',\n  };\n\n  const checkedTrait = {\n    type: 'checkbox',\n    name: 'checked',\n  };\n\n  domc.addType(typeForm, {\n    isComponent: el => el.tagName == 'FORM',\n\n    model: {\n      defaults: {\n        tagName: 'form',\n        droppable: ':not(form)',\n        draggable: ':not(form)',\n        attributes: { method: 'get' },\n        traits: [{\n          type: 'select',\n          name: 'method',\n          options: [\n            {value: 'get', name: 'GET'},\n            {value: 'post', name: 'POST'},\n          ],\n        }, {\n          name: 'action',\n        }],\n      },\n    },\n\n    view: {\n      events: {\n        submit: e => e.preventDefault(),\n      }\n    },\n  });\n\n\n\n\n\n  // INPUT\n  domc.addType(typeInput, {\n    isComponent: el => el.tagName == 'INPUT',\n\n    model: {\n      defaults: {\n        tagName: 'input',\n        draggable: 'form, form *',\n        droppable: false,\n        highlightable: false,\n        attributes: { type: 'text' },\n        traits: [\n          nameTrait,\n          placeholderTrait,\n          {\n            type: 'select',\n            name: 'type',\n            options: [\n              { value: 'text' },\n              { value: 'email' },\n              { value: 'password' },\n              { value: 'number' },\n            ]\n          },\n          requiredTrait\n        ],\n      },\n    },\n\n    extendFnView: ['updateAttributes'],\n    view: {\n      updateAttributes() {\n        this.el.setAttribute('autocomplete', 'off');\n      },\n    }\n  });\n\n\n\n\n\n  // TEXTAREA\n  domc.addType(typeTextarea, {\n    extend: typeInput,\n    isComponent: el => el.tagName == 'TEXTAREA',\n\n    model: {\n      defaults: {\n        tagName: 'textarea',\n        attributes: {},\n        traits: [\n          nameTrait,\n          placeholderTrait,\n          requiredTrait\n        ]\n      },\n    },\n  });\n\n\n\n\n\n  // OPTION\n  domc.addType(typeOption, {\n    isComponent: el => el.tagName == 'OPTION',\n\n    model: {\n      defaults: {\n        tagName: 'option',\n        layerable: false,\n        droppable: false,\n        draggable: false,\n        highlightable: false,\n      },\n    },\n  });\n\n  const createOption = (value, name) => ({ type: typeOption, components: name, attributes: { value } });\n\n\n\n\n\n  // SELECT\n  domc.addType(typeSelect, {\n    extend: typeInput,\n    isComponent: el => el.tagName == 'SELECT',\n\n    model: {\n      defaults: {\n        tagName: 'select',\n        components: [\n          createOption('opt1', 'Option 1'),\n          createOption('opt2', 'Option 2'),\n        ],\n        traits: [\n          nameTrait,\n          {\n            name: 'options',\n            type: 'select-options'\n          },\n          requiredTrait\n        ],\n      },\n    },\n\n    view: {\n      events: {\n        mousedown: e => e.preventDefault(),\n      },\n    },\n  });\n\n\n\n\n\n  // CHECKBOX\n  domc.addType(typeCheckbox, {\n    extend: typeInput,\n    isComponent: el => el.tagName == 'INPUT' && el.type == 'checkbox',\n\n    model: {\n      defaults: {\n        copyable: false,\n        attributes: { type: 'checkbox' },\n        traits: [\n          idTrait,\n          nameTrait,\n          valueTrait,\n          requiredTrait,\n          checkedTrait\n        ],\n      },\n    },\n\n    view: {\n      events: {\n        click: e => e.preventDefault(),\n      },\n\n      init() {\n        this.listenTo(this.model, 'change:attributes:checked', this.handleChecked);\n      },\n\n      handleChecked() {\n        this.el.checked = !!this.model.get('attributes').checked;\n      },\n    },\n  });\n\n\n\n\n\n  // RADIO\n  domc.addType(typeRadio, {\n    extend: typeCheckbox,\n    isComponent: el => el.tagName == 'INPUT' && el.type == 'radio',\n\n    model: {\n      defaults: {\n        attributes: { type: 'radio' },\n      },\n    },\n  });\n\n\n\n\n\n  domc.addType(typeButton, {\n    extend: typeInput,\n    isComponent: el => el.tagName == 'BUTTON',\n\n    model: {\n      defaults: {\n        tagName: 'button',\n        attributes: { type: 'button' },\n        text: 'Send',\n        traits: [\n          {\n            name: 'text',\n            changeProp: true,\n          }, {\n            type: 'select',\n            name: 'type',\n            options: [\n              { value: 'button' },\n              { value: 'submit' },\n              { value: 'reset' },\n            ]\n        }]\n      },\n\n      init() {\n        const comps = this.components();\n        const tChild =  comps.length === 1 && comps.models[0];\n        const chCnt = (tChild && tChild.is('textnode') && tChild.get('content')) || '';\n        const text = chCnt || this.get('text');\n        this.set({ text });\n        this.on('change:text', this.__onTextChange);\n        (text !== chCnt) && this.__onTextChange();\n      },\n\n      __onTextChange() {\n        this.components(this.get('text'));\n      },\n    },\n\n    view: {\n      events: {\n        click: e => e.preventDefault(),\n      },\n    },\n  });\n\n\n\n\n\n  // LABEL\n  domc.addType(typeLabel, {\n    extend: 'text',\n    isComponent: el => el.tagName == 'LABEL',\n\n    model: {\n      defaults: {\n        tagName: 'label',\n        components: 'Label',\n        traits: [forTrait],\n      },\n    },\n  });\n}\n","import { typeOption } from './components';\n\nexport default function (editor) {\n  const trm = editor.TraitManager;\n\n  trm.addType('select-options', {\n    events:{\n      keyup: 'onChange',\n    },\n\n    onValueChange() {\n      const { model, target } = this;\n      const optionsStr = model.get('value').trim();\n      const options = optionsStr.split('\\n');\n      const optComps = [];\n\n      for (let i = 0; i < options.length; i++) {\n        const optionStr = options[i];\n        const option = optionStr.split('::');\n        optComps.push({\n          type: typeOption,\n          components: option[1] || option[0],\n          attributes: { value: option[0] },\n        });\n      }\n\n      target.components().reset(optComps);\n      target.view.render();\n    },\n\n    getInputEl() {\n      if (!this.$input) {\n        const optionsArr = [];\n        const options = this.target.components();\n\n        for (let i = 0; i < options.length; i++) {\n          const option = options.models[i];\n          const optAttr = option.get('attributes');\n          const optValue = optAttr.value || '';\n          const optTxtNode = option.components().models[0];\n          const optLabel = optTxtNode && optTxtNode.get('content') || '';\n          optionsArr.push(`${optValue}::${optLabel}`);\n        }\n\n        this.$input = document.createElement('textarea');\n        this.$input.value = optionsArr.join(\"\\n\");\n      }\n      return this.$input;\n  \t},\n  });\n}\n","import {\n  typeForm,\n  typeInput,\n  typeTextarea,\n  typeSelect,\n  typeCheckbox,\n  typeRadio,\n  typeButton,\n  typeLabel,\n} from './components';\n\nexport default function (editor, opt = {}) {\n  const c = opt;\n  const bm = editor.BlockManager;\n  const addBlock = (id, def) => {\n    c.blocks.indexOf(id) >= 0 && bm.add(id, {\n      ...def,\n      category: { id: 'forms', label: 'Forms' },\n    });\n  }\n\n  addBlock(typeForm, {\n    label: 'Form',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z\"/><rect width=\"10\" height=\"3\" x=\"2\" y=\"15\" rx=\".5\"/></svg>',\n    content: {\n      type: typeForm,\n      components: [\n        {\n          components: [\n            { type: typeLabel, components: 'Name' },\n            { type: typeInput },\n          ]\n        }, {\n          components: [\n            { type: typeLabel, components: 'Email' },\n            { type: typeInput, attributes: { type: 'email' } },\n          ]\n        }, {\n          components: [\n            { type: typeLabel, components: 'Gender' },\n            { type: typeCheckbox, attributes: { value: 'M' } },\n            { type: typeLabel, components: 'M' },\n            { type: typeCheckbox, attributes: { value: 'F' } },\n            { type: typeLabel, components: 'F' },\n          ]\n        }, {\n          components: [\n            { type: typeLabel, components: 'Message' },\n            { type: typeTextarea },\n          ]\n        }, {\n          components: [{ type: typeButton }]\n        },\n      ]\n    }\n  });\n\n  addBlock(typeInput, {\n    label: 'Input',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z\"/><path d=\"M4 10h1v4H4z\"/></svg>',\n    content: { type: typeInput },\n  });\n\n  addBlock(typeTextarea, {\n    label: 'Textarea',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z\"/><path d=\"M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z\"/></svg>',\n    content: { type: typeTextarea },\n  });\n\n  addBlock(typeSelect, {\n    label: 'Select',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z\"/><path d=\"M18.5 13l1.5-2h-3zM4 11.5h11v1H4z\"/></svg>',\n    content: { type: typeSelect },\n  });\n\n  addBlock(typeButton, {\n    label: 'Button',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z\"/><path d=\"M4 11.5h16v1H4z\"/></svg>',\n    content: { type: typeButton },\n  });\n\n  addBlock(typeLabel, {\n    label: 'Label',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z\"/><rect width=\"14\" height=\"5\" x=\"2\" y=\"5\" rx=\".5\"/><path d=\"M4 13h1v3H4z\"/></svg>',\n    content: { type: typeLabel },\n  });\n\n  addBlock(typeCheckbox, {\n    label: 'Checkbox',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z\"></path></svg>',\n    content: { type: typeCheckbox },\n  });\n\n  addBlock(typeRadio, {\n    label: 'Radio',\n    media: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z\"></path></svg>',\n    content: { type: typeRadio },\n  });\n}\n","import loadTraits from './traits';\nimport loadBlocks from './blocks';\nimport loadComponents from './components';\n\nexport default (editor, opts = {}) => {\n\n  const config = {\n    blocks: ['form', 'input', 'textarea', 'select', 'button', 'label', 'checkbox', 'radio'],\n    ...opts\n  };\n\n  loadComponents(editor, config);\n  loadTraits(editor, config);\n  loadBlocks(editor, config);\n};\n"],"sourceRoot":""}